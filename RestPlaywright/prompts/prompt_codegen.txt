
You are an expert in Playwright and API testing.

Input:
I will provide with you.
1. An OpenAPI/Swagger spec (YAML or JSON).

Task:
Generate a **single Playwright test file in ES6 **{{language}}** (.spec.js)** that covers **all API paths and methods** defined in the spec, following the **same structure, style, and formatting** as the sample `.spec.js` file I provide.

Strict rules for generation:
-Covers **all paths and methods** in the OpenAPI spec.
-Generate a Playwright test in **{{language}}** for the OpenAPI endpoint [METHOD] [PATH].
-Use import {{ expect }} from '@playwright/test'.
-Use import {{ test }} from '../fixtures/apiWithAllure'.
-No comments, no helper functions, no logging, no console output.
-Should be formatted
-Return only the test code without any extra content or explanation.
- Follows the **exact same structure, formatting, naming, and content-style** as the sample .spec.js file.
- Use `@playwright/test` with `request` fixture.
- Identify the `requestBody` content-types and `response` content-types (under `content`) for each API operation.
- Generate **one `test.describe` block for each supported Request → Response content-type combination**.
- **Do not skip any request/response content-type combinations.**
-**Do not skip any API paths and methods in the OpenAPI/Swagger File.
- Use only the content-types explicitly defined in the spec.
- Inside each `test.describe`, generate `test` blocks for every status code defined in the responses.
-Generate Playwright API test code where every test function has the signature: async ({{ request, baseURL}}). The baseURL should be passed as a fixture or global setup, and it must be consumed inside each test using this syntax. Do not use destructuring inside the function body, only in the test signature.
- For **200/201 success codes**:
  - Use request/response **examples from the spec if provided**.
  - If no examples exist, generate reasonable **sample data** for testing.
-I want to generate example API test payloads for the following status codes:
- For **200/400/404/422/default error codes**: send invalid or missing data to trigger negative cases.
- Print both the **request payload** and the **response body** in each test using `console.log`.
-Generate Playwright API test code where all string assertions (like expect().toContain() or expect().toMatch()) must match the exact case of the actual API response. The test should inspect the API response body and assert against the correct case-sensitive substrings exactly as they appear in the response. Do not assume lowercase or uppercase. Always read and match the actual response structure.
-Some responses have a specific expected response type (e.g., application/json, application/xml,etc.).
-Generate Playwright API tests that validate status codes, response schema, required fields, and handle both success and error responses based on my OpenAPI.
- Validate with Playwright `expect`:
  - `expect(response.status()).toBe(expectedStatus)`
  - If JSON: `expect(body).toHaveProperty(...)`
- Ensure the file is **clean, async/await-based, ready-to-run**.
-Do not include any invalid syntax (e.g., and =>, test.describe, incorrect arrow functions).
-Please check there are no unnecessary line breaks or spacing (e.g. broken const declarations), and that expect().toContain() is used appropriately.
- Output must be a **single .spec.js Playwright test file**, matching the **style and structure of the sample Output I provide.
-Do **NOT** generate tests for other methods.
-Do not add explanations or comments.
-don't put the OpenAPI JSON directly in the content field
-Return only the code block, no extra text or inline comments.

Output:
A single **.spec.js Playwright test file**.
provided a Sample Output as a style reference.

Sample Output:
import {{expect }} from '@playwright/test'
import {{ test }} from '../fixtures/apiWithAllure'


const examplePetJson = {{
  id: 10,
  name: 'doggie',
  category: {{ id: 1, name: 'Dogs' }},
  photoUrls: ['http://example.com/photo1'],
  tags: [{{ id: 1, name: 'tag1' }}],
  status: 'available'
}}

const examplePetXml = `<?xml version="1.0" encoding="UTF-8"?>
  <pet>
    <id>10</id>
    <name>doggie</name>
    <category>
      <id>1</id>
      <name>Dogs</name>
    </category>
    <photoUrls>
      <photoUrl>string</photoUrl>
    </photoUrls>
    <tags>
      <tag>
        <id>0</id>
        <name>string</name>
      </tag>
    </tags>
    <status>available</status>
  </pet>`;

const formUrlEncoded = new URLSearchParams({{
  id: '10',
  name: 'doggie',
  'category.id': '1',
  'category.name': 'Dogs',
  photoUrls: 'http://example.com/photo1',
  'tags[0].id': '1',
  'tags[0].name': 'tag1',
  status: 'available'
}})

const badForm = new URLSearchParams({{ wrong: 'data' }})

// -------------------- 1. JSON → JSON --------------------
test.describe('/pet - POST JSON → JSON', () => {{
  test('200 - Successful operation', async ({{ request, baseURL }}) => {{

     const response = await request.post(`${{baseURL}}/pet`, {{
        headers: {{
          'Accept': 'application/json',
          'Content-Type': 'application/json',

        }},
        data: examplePetJson
      }})

     const body = await response.json()
    console.log('200 JSON→JSON:', body)
    expect(response.status()).toBe(200)
    expect(body).toHaveProperty('id')
    expect(body).toHaveProperty('name', 'doggie')
  }})

  test('400 - Invalid input', async ({{ request, baseURL }}) => {{

     const response = await request.post(`${{baseURL}}/pet`, {{
        headers: {{
          'Accept': 'application/json',
          'Content-Type': 'application/json',
        }},
        data: {{ invalid: 'payload' }}
      }})
    console.log('400 JSON→JSON:', await response.text())
    expect(response.status()).toBeGreaterThanOrEqual(400);

  }})

  test('422 - Validation exception', async ({{ request, baseURL }}) => {{

     const response = await request.post(`${{baseURL}}/pet`, {{
        headers: {{
          'Accept': 'application/json',
          'Content-Type': 'application/json',

        }},
        data: {{ name: '', photoUrls: [] }}
      }})
    console.log('422 JSON→JSON:', await response.text())
    expect(response.status()).toBeGreaterThanOrEqual(422);
    //expect(response.status()).toBe(422)
  }})

  test('default - Unexpected error', async ({{ request, baseURL }}) => {{

     const response = await request.post(`${{baseURL}}/pet`, {{
        headers: {{
          'Accept': 'application/json',
          'Content-Type': 'application/json',
          'X-Force-Error': 'true'
        }},
        data: {{ invalid: 'Unexpected' }}
      }})

    const body = await response.json()
    console.log('Default JSON→JSON:', body)
    expect([500, 501, 502, 503]).toContain(response.status())
    expect(body).toHaveProperty('code')
    expect(body).toHaveProperty('message')
  }})
}})

// -------------------- 2. JSON → XML --------------------
test.describe('/pet - POST JSON → XML', () => {{
  test('200 - Successful operation', async ({{ request, baseURL }}) => {{

     const response = await request.post(`${{baseURL}}/pet`, {{
        headers: {{
          'Accept': 'application/xml',
          'Content-Type': 'application/json',

        }},
        data: examplePetJson
      }})
    const
      text = await response.text()
    console.log('200 JSON→XML:', text)
    expect(response.status()).toBe(200)
    expect(text).toContain('<Pet>')
    expect(text).toContain('<name>doggie</name>')
  }})

  test('400 - Invalid input', async ({{ request, baseURL }}) => {{

     const response = await request.post(`${{baseURL}}/pet`, {{
        headers: {{
          'Accept': 'application/xml',
          'Content-Type': 'application/json',

        }},
        data: {{ wrong: 'input' }}
      }})
    console.log('400 JSON→XML:', await response.text())
    expect(response.status()).toBeGreaterThanOrEqual(400);
    //expect(response.status()).toBe(400)
  }})

  test('422 - Validation exception', async ({{ request, baseURL }}) => {{

     const response = await request.post(`${{baseURL}}/pet`, {{
        headers: {{
          'Accept': 'application/xml',
          'Content-Type': 'application/json',

        }},
        data: {{ name: '', photoUrls: [] }}
      }})
    console.log('422 JSON→XML:', await response.text())
    expect(response.status()).toBeGreaterThanOrEqual(422);
  }})

  test('default - Unexpected error', async ({{ request, baseURL }}) => {{

     const response = await request.post(`${{baseURL}}/pet`, {{
        headers: {{
          'Accept': 'application/xml',
          'Content-Type': 'application/json',
          'X-Force-Error': 'true'
        }},
        data: {{ invalid: 'Unexpected' }}
      }})
    console.log('Default JSON→XML:', await response.text())
    expect([500, 501, 502, 503]).toContain(response.status())
  }})
}})

// -------------------- 3. XML → JSON --------------------
test.describe('/pet - POST XML → JSON', () => {{
  test('200 - Successful operation', async ({{ request, baseURL }}) => {{
    const response = await request.post(`${{baseURL}}/pet`, {{
      headers: {{
        'Accept': 'application/json',
        'Content-Type': 'application/xml',

      }},
      data: examplePetXml
    }})

    const body = await response.json()
    console.log('200 XML→JSON:', body)
    expect(response.status()).toBe(200)
    expect(body).toHaveProperty('id')
    expect(body).toHaveProperty('name', 'doggie')
  }})


  test('400 - Invalid input', async ({{ request, baseURL }}) => {{
    const response = await request.post(`${{baseURL}}/pet`, {{
      headers: {{
        'Accept': 'application/json',
        'Content-Type': 'application/xml',

      }},
      data: ` < invalid > < data / > < / invalid > `
    }})
    console.log('400 XML→JSON:', await response.text())
    expect(response.status()).toBe(400)
  }})

  test('422 - Validation exception', async ({{ request, baseURL }}) => {{

    const response = await request.post(`${{baseURL}}/pet`, {{
      headers: {{
        'Accept': 'application/json',
        'Content-Type': 'application/xml',

      }},
      data: ` < pet > < name > < / name > < photoUrls / > < / pet > `
    }})
    console.log('422 XML→JSON:', await response.text())
    expect(response.status()).toBe(422)
  }})

  test('default - Unexpected error', async ({{ request, baseURL }}) => {{

    const response = await request.post(`${{baseURL}}/pet`, {{
      headers: {{
        'Accept': 'application/json',
        'Content-Type': 'application/xml',

        'X-Force-Error': 'true'
      }},
      data: ` < invalid > < data / > < / invalid > `
    }})

    const body = await response.json()
    console.log('Default XML→JSON:', body)
    expect([500, 501, 502, 503]).toContain(response.status())
    expect(body).toHaveProperty('code')
    expect(body).toHaveProperty('message')
  }})
}})

// -------------------- 4. XML → XML --------------------
test.describe('/pet - POST XML → XML', () => {{
  test('200 - Successful operation', async ({{ request, baseURL }}) => {{

     const response = await request.post(`${{baseURL}}/pet`, {{
        headers: {{
          'Accept': 'application/xml',
          'Content-Type': 'application/xml',

        }},
        data: examplePetXml
      }})

     const text = await response.text()
    console.log('200 XML→XML:', text)
    expect(response.status()).toBe(200)
    expect(text).toContain('<Pet>')
    expect(text).toContain('<name>doggie</name>')
  }})

  test('400 - Invalid input', async ({{ request, baseURL }}) => {{

     const response = await request.post(`${{baseURL}}/pet`, {{
        headers: {{
          'Accept': 'application/xml',
          'Content-Type': 'application/xml',

        }},
        data: ` < pet > < invalid > < / invalid > < / pet > `
      }})
    console.log('400 XML→XML:', await response.text())
    expect(response.status()).toBe(400)
  }})

  test('422 - Validation exception', async ({{ request, baseURL }}) => {{

    const response = await request.post(`${{baseURL}}/pet`, {{
        headers: {{
          'Accept': 'application/xml',
          'Content-Type': 'application/xml',

        }},
        data: ` < pet > < name > < / name > < photoUrls / > < / pet > `
      }})
    console.log('422 XML→XML:', await response.text())
    expect(response.status()).toBe(422)
  }})

  test('default - Unexpected error', async ({{ request, baseURL }}) => {{

     const response = await request.post(`${{baseURL}}/pet`, {{
        headers: {{
          'Accept': 'application/xml',
          'Content-Type': 'application/xml',

          'X-Force-Error': 'true'
        }},
        data: examplePetXml
      }})
    console.log('Default XML→XML:', await response.text())
    expect([500, 501, 502, 503]).toContain(response.status())
  }})
}})

// -------------------- 5. FORM → JSON --------------------
test.describe('/pet - POST FORM → JSON', () => {{
  test('200 - Successful operation', async ({{ request, baseURL }}) => {{

     const response = await request.post(`${{baseURL}}/pet`, {{
        headers: {{
          'Accept': 'application/json',
          'Content-Type': 'application/x-www-form-urlencoded',

        }},
        data: formUrlEncoded.toString()
      }})

     const body = await response.json()
    console.log('200 FORM→JSON:', body)
    expect(response.status()).toBe(200)
    expect(body).toHaveProperty('id')
    expect(body).toHaveProperty('name', 'doggie')
  }})

  test('400 - Invalid input', async ({{ request, baseURL }}) => {{


    const response = await request.post(`${{baseURL}}/pet`, {{
      headers: {{
        'Accept': 'application/json',
        'Content-Type': 'application/x-www-form-urlencoded',

      }},
      data: badForm.toString()
    }})
    console.log('400 FORM→JSON:', await response.text())
    expect(response.status()).toBe(400)
  }})

  test('422 - Validation exception', async ({{ request, baseURL }}) => {{

     const response = await request.post(`${{baseURL}}/pet`, {{
        headers: {{
          'Accept': 'application/json',
          'Content-Type': 'application/x-www-form-urlencoded',

        }},
        data: new URLSearchParams({{ name: '', photoUrls: '' }}).toString()
      }})
    console.log('422 FORM→JSON:', await response.text())
    expect(response.status()).toBe(422)
  }})

  test('default - Unexpected error', async ({{ request, baseURL }}) => {{

     const response = await request.post(`${{baseURL}}/pet`, {{
        headers: {{
          'Accept': 'application/json',
          'Content-Type': 'application/x-www-form-urlencoded',

          'X-Force-Error': 'true'
        }},
        data: badForm.toString()
      }})
    const
      body = await response.json()
    console.log('Default FORM→JSON:', body)
    expect([500, 501, 502, 503]).toContain(response.status())
    expect(body).toHaveProperty('code')
    expect(body).toHaveProperty('message')
  }})
}})

// -------------------- 6. FORM → XML --------------------
test.describe('/pet - POST FORM → XML', () => {{
  test('200 - Successful operation', async ({{ request, baseURL }}) => {{
    const
      response = await request.post(`${{baseURL}}/pet`, {{
        headers: {{
          'Accept': 'application/xml',
          'Content-Type': 'application/x-www-form-urlencoded',

        }},
        data: formUrlEncoded.toString()
      }})
    const
      text = await response.text()
    console.log('200 FORM→XML:', text)
    expect(response.status()).toBe(200)
    expect(text).toContain('<Pet>')
    expect(text).toContain('<name>doggie</name>')
  }})

  test('400 - Invalid input', async ({{ request, baseURL }}) => {{
    const
      badForm = new
        URLSearchParams({{ wrong: 'data' }})
    const
      response = await request.post(`${{baseURL}}/pet`, {{
        headers: {{
          'Accept': 'application/xml',
          'Content-Type': 'application/x-www-form-urlencoded',

        }},
        data: badForm.toString()
      }})
    console.log('400 FORM→XML:', await response.text())
    expect(response.status()).toBe(400)
  }})

  test('422 - Validation exception', async ({{ request, baseURL }}) => {{

     const response = await request.post(`${{baseURL}}/pet`, {{
        headers: {{
          'Accept': 'application/xml',
          'Content-Type': 'application/x-www-form-urlencoded',


        }},
        data: new URLSearchParams({{ name: '', photoUrls: '' }}).toString()
      }})
    console.log('422 FORM→XML:', await response.text())
    expect(response.status()).toBe(422)
  }})

  test('default - Unexpected error', async ({{ request, baseURL }}) => {{

     const response = await request.post(`${{baseURL}}/pet`, {{
        headers: {{
          'Accept': 'application/xml',
          'Content-Type': 'application/x-www-form-urlencoded',

          'X-Force-Error': 'true'
        }},
        data: badForm.toString()
      }})
    console.log('Default FORM→XML:', await response.text())
    expect([500, 501, 502, 503]).toContain(response.status())
  }})
}})


{json.dumps(spec, indent=2)}